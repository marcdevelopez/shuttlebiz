diff --git a/diff.txt b/diff.txt
index 3c5656c..e69de29 100644
--- a/diff.txt
+++ b/diff.txt
@@ -1,683 +0,0 @@
-diff --git a/docs/ROADMAP.md b/docs/ROADMAP.md
-index 1f7c9f6..2ef931f 100644
---- a/docs/ROADMAP.md
-+++ b/docs/ROADMAP.md
-@@ -2,8 +2,8 @@
- 
- ## üìç Estado actual
- 
--- √öltima actualizaci√≥n: 24/11/2025
--- Specs en progreso: secci√≥n 5 (Nivel Grupo) completada; pendiente cierre final y gu√≠a visual b√°sica
-+- √öltima actualizaci√≥n: 27/11/2025
-+- Specs: secciones 6.x y modales 7.x cerradas; pendiente solo gu√≠a visual b√°sica
- - Arquitectura decidida: Flutter + Riverpod + GoRouter + Firebase (Auth/Firestore/FCM), Storage para medios
- - Scope MVP recortado: sin backups Drive/iCloud, sin multimedia ni b√∫squeda en chat, sin automatismos avanzados de conductor (5/40 min) en primera iteraci√≥n
- 
-@@ -85,8 +85,8 @@
- **9. Otras Funcionalidades**
- 
- - **Conductor visible en listado**: Mostrar "Conductor: Nombre" o "Sin conductor" en √≠tems de 5.3
--- **Gesti√≥n de veh√≠culos**: Enlace expl√≠cito desde ajustes de grupo (5.5)
--- **Cerrar secciones pendientes**: Completar pantallas 6.x+ y reglas UI pendientes en `docs/SPECS.md`
-+- **Gesti√≥n de veh√≠culos**: enlace desde ajustes de grupo (5.5); visible para creador/admin, conductores asignados/solicitados y creadores de un veh√≠culo del grupo; permisos: creador/admin gestionan; conductores pueden elegir veh√≠culo y solicitar alta/edici√≥n (requiere aprobaci√≥n si no son creador/admin). Alerta T-30 sin veh√≠culo: push + banner con CTA a Pantalla 10, recordatorio a 5 min, escalado a creador/admin y chat, badge rojo hasta asignar. Bot√≥n ‚ÄúElegir como lanzadera‚Äù en 10.2 con selector de salida si hay varias y feedback con Snackbar.
-+- **Cerrar secciones pendientes** Completar pantallas 6.x+ y reglas UI pendientes en `docs/SPECS.md` (incl. modales 6.3.1.a, 6.3.2.a, 6.3.3.a y 7.x de notificaciones: invitaci√≥n a grupo, activaci√≥n de ubicaci√≥n, alertas de conductor)
- - **Gu√≠as visuales b√°sicas**: Tipograf√≠a, paleta, layout por nivel (Grupos/Grupo/Lanzadera), patrones de modales y chips de horarios
- 
- #### üü¢ Prioridad Baja (Versiones Futuras - Documentar para Roadmap)
-diff --git a/docs/SPECS.md b/docs/SPECS.md
-index 184112f..c13a4f4 100644
---- a/docs/SPECS.md
-+++ b/docs/SPECS.md
-@@ -168,9 +168,7 @@ El sistema define c√≥mo se asigna y mantiene el rol de conductor en una lanzader
- #### **1.1 Conductor por salida √∫nica (con continuidad opcional)**
- 
- - El conductor se asigna √∫nicamente para la **salida concreta** seleccionada.
--- Tras completar el viaje (cuando marque ‚ÄúLlegada‚Äù o el sistema detecte la llegada) y siempre que haya mas salidas ese d√≠a con esa misma lanzadera, se mostrar√° un modal:
--
--**‚Äú¬øDeseas continuar como conductor en la siguiente salida?‚Äù**
-+- Tras completar el viaje (cuando marque ‚ÄúLlegada‚Äù o el sistema detecte la llegada) y siempre que haya m√°s salidas ese d√≠a con esa misma lanzadera, se mostrar√° el **Modal de continuidad de conductor** (ver **6.3.2.a** para UI y comportamiento).
- 
- Opciones:
- 
-@@ -665,6 +663,20 @@ La pantalla puede mostrar dos situaciones:
-   - Solicitar unirse (se podr√° agregar un mensaje al admin/creador del grupo)
- - AppBar sin icono ‚úã (pantalla secundaria de detalle).
- 
-+#### **4.1.3.a Modal de solicitud de membres√≠a (grupo p√∫blico)**
-+
-+- **Acceso:** bot√≥n **‚ÄúSolicitar unirse‚Äù** en 4.1.3.
-+- **UI:** bottom sheet/modal centrado (bloqueante hasta decidir).
-+  - T√≠tulo: **‚ÄúSolicitar unirse a [Nombre del grupo]‚Äù**
-+  - Texto breve: ‚ÄúEnviaremos tu solicitud al creador/admin. Puedes a√±adir un mensaje.‚Äù
-+  - Campo opcional de mensaje (m√°x. 200 caracteres).
-+  - Resumen del grupo: tipo (P√∫blico/Privado), miembros, lanzaderas activas.
-+  - Botones:
-+    - **[Enviar solicitud]** (primario) ‚Üí crea solicitud pendiente.
-+    - **[Cancelar]** (secundario) ‚Üí cierra sin cambios.
-+- **Feedback:** Snackbar **‚ÄúSolicitud enviada‚Äù** y badge en `Mis Solicitudes` (Pantalla 8) mostrando estado Pendiente; si el grupo tiene auto-aprobaci√≥n ON, se a√±ade de inmediato y se muestra ‚ÄúUnido al grupo‚Äù.
-+- **Comportamiento:** si ya existe una solicitud pendiente, el bot√≥n muestra estado ‚ÄúSolicitud enviada‚Äù y deshabilita reenv√≠o; si fue rechazada, permite reenviar tras un cooldown (definir en backend).
-+
- ### UNIRSE A GRUPO EXISTENTE
- 
- Flujo para usuarios que quieren unirse a un grupo creado por otros.
-@@ -906,10 +918,10 @@ La pantalla puede mostrar dos situaciones:
-   - **Tocar una lanzadera** ‚Üí abre la **Pantalla de Lanzadera** correspondiente, bajando al nivel de "Lanzadera".
- - **Icono ‚úã Mis Solicitudes** en la AppBar ‚Üí abre la **Pantalla 8 (Estado de Mis Solicitudes)**. Este icono aparece en las vistas de Home/Chat/Horarios/Mapa del nivel Grupo; no en formularios u otras pantallas secundarias.
- - **Flecha atr√°s** (‚Üê) en la esquina superior izquierda ‚Üí regresa al **Nivel Grupos (4.1)**.
--- **Nombre del grupo** visible en el AppBar. Al pulsarlo, se abre un modal para cambiar r√°pidamente a otro grupo del usuario.
--- **Men√∫ (‚ãÆ)** en esquina superior derecha con opciones:
-+- **Nombre del grupo** visible en el AppBar. Al pulsarlo, se abre un modal para cambiar r√°pidamente a otro grupo del usuario (ver **5.1.a**).
-+- **Men√∫ (‚ãÆ)** en esquina superior derecha con opciones (la opci√≥n de veh√≠culos solo aparece activa si el usuario es Creador/Admin, tiene rol de conductor asignado/solicitado en alguna lanzadera del grupo o es creador de un veh√≠culo del grupo):
-   - Gesti√≥n del grupo ‚Üí abre **Pantalla 5.5**
--  - Gesti√≥n de veh√≠culos ‚Üí abre **Pantalla 10**
-+  - Gesti√≥n de veh√≠culos ‚Üí abre **Pantalla 10** (creadores/admins gestionan; conductores asignados o creadores de un veh√≠culo pueden elegirlo y solicitar alta/edici√≥n con aprobaci√≥n)
-   - Configuraci√≥n del grupo
-   - Invitar miembros
- - **Bot√≥n flotante (FAB) "+"** (solo visible para Creadores/Admins):
-@@ -918,6 +930,22 @@ La pantalla puede mostrar dos situaciones:
- 
- ---
- 
-+#### **5.1.a Modal de cambio r√°pido de grupo**
-+
-+- **Cu√°ndo se muestra:** al pulsar el nombre del grupo en el AppBar del Nivel Grupo (Home/Chat/Horarios/Mapa).
-+- **Objetivo:** cambiar de grupo sin salir a la lista principal.
-+- **UI:** bottom sheet modal (altura media) o di√°logo centrado en desktop/tablet.
-+  - Campo de b√∫squeda para filtrar por nombre de grupo.
-+  - Lista de grupos del usuario:
-+    - Nombre + badge de rol (Creador/Admin/Miembro).
-+    - Contador de lanzaderas activas y pr√≥xima salida (si existe) en texto secundario.
-+    - Grupo actual marcado con check ‚úî y deshabilitado para selecci√≥n.
-+  - Botones: **[Cerrar]** (secundario) y acci√≥n impl√≠cita al tocar un grupo.
-+- **Acci√≥n al seleccionar grupo:** cambia contexto al grupo elegido, cierra modal y refresca la pantalla actual manteniendo la pesta√±a (Home/Chat/Horarios/Mapa) en ese nuevo grupo.
-+- **Comportamiento adicional:** si no hay m√°s grupos, muestra mensaje ‚ÄúNo tienes otros grupos‚Äù y solo bot√≥n **[Cerrar]**.
-+
-+---
-+
- ### **Pantalla 5.1.1 Creaci√≥n de Lanzadera (NEW SHUTTLE)**
- 
- - **Funci√≥n**: Pantalla para crear una nueva lanzadera desde el Home de Grupo.
-@@ -1126,23 +1154,36 @@ Cada √≠tem corresponde con cada una de las lanzaderas del grupo (√≠tem == lanzad
- 
- Cada lanzadera (√≠tem de lista) una **tarjeta compacta** con:
- 
--```
--**Encabezado:**
--- Nombre Lanzadera + `Origen ‚Üí Destino`
-+- **Encabezado:**
- 
--**Bloque de estado actual** (solo el m√°s relevante):
-+```
-+Nombre Lanzadera + Origen ‚Üí Destino
-+```
- 
-+- **Bloque de estado actual** (_solo el m√°s relevante_):
- - **SI hay salida en curso:**
--  - üî¥ `En curso ¬∑ Sali√≥ 11:33 ¬∑ 4/4 viajeros`
-+
-+```
-+üî¥ En curso ¬∑ Sali√≥ 11:33 ¬∑ 4/4 viajeros ¬∑ Conductor: Pepito Grillo
-+```
- 
- - **SI NO hay salida en curso, mostrar pr√≥xima:**
--  - üü¢ `Pr√≥xima: hoy 12:00 ¬∑ 3/4 plazas ¬∑ Conductor: Juan M.`
--  - o
--  - ‚ö†Ô∏è `Pr√≥xima: hoy 12:00 ¬∑ 3/4 plazas ¬∑ Sin conductor`
-+
-+```
-+üü¢ Pr√≥xima: hoy 12:00 ¬∑ 3/4 plazas ¬∑ Conductor: Juan M.
-+```
-+
-+- o
-+
-+```
-+‚ö†Ô∏è Pr√≥xima: hoy 12:00 ¬∑ 3/4 plazas ¬∑ Sin conductor
-+```
- 
- **Resumen compacto de horarios:**
--- `L-V: 7:00, 8:30, 14:00, 18:00`
--- `S-D: 9:00, 20:00`
-+
-+```
-+L-V: 7:00, 8:30, 14:00, 18:00
-+S-D: 9:00, 20:00
- ```
- 
- **Dise√±o visual:**
-@@ -1304,7 +1345,7 @@ Pantalla para administrar el grupo, accesible desde el **men√∫ (‚ãÆ)** en cualqu
-   - Explicaci√≥n de diferencias a modo de info.
- - **Gesti√≥n de solicitudes**:
-   - Auto-aprobaci√≥n de nuevos miembros (toggle)
--  - Lista de solicitudes pendientes (si auto-aprobaci√≥n est√° desactivada)
-+  - Lista de solicitudes pendientes (si auto-aprobaci√≥n est√° desactivada) ‚Üí ver **5.5.a**
- - **Configuraci√≥n de lanzaderas**:
-   - Tiempo m√≠nimo para selecci√≥n de veh√≠culo (por defecto 30 minutos, editable)
-   - Tiempo de aviso de conductor sin ubicaci√≥n (por defecto 40 minutos, editable)
-@@ -1315,13 +1356,13 @@ Pantalla para administrar el grupo, accesible desde el **men√∫ (‚ãÆ)** en cualqu
-   - Por n√∫mero de m√≥vil ‚Üí env√≠a invitaci√≥n por SMS ??
-   - Compartir enlace ‚Üí genera enlace √∫nico de invitaci√≥n
-   - C√≥digo de invitaci√≥n ‚Üí genera c√≥digo de 6 d√≠gitos
--- **Gesti√≥n de veh√≠culos** ‚Üí abre **Pantalla 10**
-+- **Gesti√≥n de veh√≠culos** (solo visible si el usuario es Creador/Admin, conductor asignado o creador de un veh√≠culo del grupo) ‚Üí abre **Pantalla 10**
- - **Eliminar grupo** (solo Creador):
-   - Requiere confirmaci√≥n con modal
-   - Advierte sobre lanzaderas activas y solicitudes pendientes
-   - Solicita confirmaci√≥n escribiendo el nombre del grupo
- 
--### **Para miembros regulares:**
-+### **Para usuarios que NO SEAN CREADOR/ADMIN del grupo:**
- 
- #### **Vista de solo lectura**
- 
-@@ -1344,6 +1385,25 @@ Pantalla para administrar el grupo, accesible desde el **men√∫ (‚ãÆ)** en cualqu
- 
- ---
- 
-+#### **5.5.a Pantalla de solicitudes pendientes (auto-aprobaci√≥n OFF)**
-+
-+- **Acceso:** desde Gesti√≥n del grupo (5.5) cuando la auto-aprobaci√≥n est√° desactivada.
-+- **Funci√≥n:** revisar y decidir sobre solicitudes de ingreso al grupo.
-+- **Contenido:**
-+  - Buscador por nombre/tel√©fono.
-+  - Lista de solicitudes:
-+    - Avatar + nombre + tel√©fono (si disponible).
-+    - Fecha de solicitud.
-+    - Contexto: c√≥mo lleg√≥ (enlace, c√≥digo, invitaci√≥n directa).
-+    - Reputaci√≥n r√°pida y contador de viajes (si existe).
-+    - Mensaje opcional del solicitante (si lo envi√≥).
-+  - Filtros: pendientes/aceptadas/rechazadas (por defecto pendientes).
-+- **Acciones por √≠tem:**
-+  - **[Aceptar]** (primario) ‚Üí agrega al grupo, env√≠a notificaci√≥n al usuario, limpia de pendientes.
-+  - **[Rechazar]** (secundario/destructive) ‚Üí opcional motivo breve; notifica al usuario.
-+- **Feedback:** snackbar ‚ÄúSolicitud aceptada/rechazada‚Äù y actualizaci√≥n en tiempo real de la lista.
-+- **Estado vac√≠o:** ‚ÄúNo hay solicitudes pendientes‚Äù + CTA **Invitar miembros**.
-+
- ## **6 NIVEL DE LANZADERA** _(vista espec√≠fica de lanzadera)_
- 
- En este nivel se maneja una lanzadera de un grupo:
-@@ -1438,7 +1498,7 @@ De arriba abajo:
-   Al pulsarlo, se abre la **pantalla 6.1.3 Creaci√≥n/Edici√≥n de Horario**, accesible solo para Creadores/Admin del grupo o del Biz en la app.
- 
- - Adicionalmente, si se es **Creador/Admin**, una **pulsaci√≥n larga sobre un horario existente** abrir√° un **modal de confirmaci√≥n** para **eliminar dicho horario**.
--  Este modal informar√° de forma clara que la acci√≥n es irreversible y requerir√° introducir un **c√≥digo de confirmaci√≥n** antes de proceder, con las opciones **‚ÄúEliminar‚Äù** o **‚ÄúCancelar‚Äù**, para evitar eliminaciones accidentales.
-+  Este modal (ver **6.3.1.a**) informa que la acci√≥n es irreversible y requiere confirmaci√≥n expl√≠cita antes de proceder.
- 
- #### **AppBar (izquierda ‚Üí derecha)**
- 
-@@ -1488,6 +1548,21 @@ Los colores de las horas coincidir√°n en color con la ida o vuelta (numeros en b
- 
- Si no se es Creador/Admin del grupo: la vista de esta pantalla ser√° igual pero sin icono de l√°piz para editar arriba en la barra superior (o donde se decida para m√°s usabilidad), sin bot√≥n de a√±adir hora, sin posibilidad de modificar d√≠as semanales, ni botones de guardar/cancelar, y todo aquello que est√© extra en la vista de edici√≥n de horario.
- 
-+#### **6.3.1.a Modal de confirmaci√≥n de eliminaci√≥n de horario**
-+
-+- **Cu√°ndo se muestra:** pulsaci√≥n larga sobre un horario en la lista (solo Creador/Admin).
-+- **Objetivo:** evitar borrados accidentales y avisar de impactos.
-+- **UI:** modal centrado, icono ‚ö†Ô∏è, bloqueante (no se cierra tocando fuera).
-+  - T√≠tulo: **‚ÄúEliminar este horario‚Äù**
-+  - Texto de advertencia:
-+    - ‚ÄúLa eliminaci√≥n es irreversible.‚Äù
-+    - Si hay datos disponibles, mostrar: `Se cancelar√°n X solicitudes activas y se notificar√° a los afectados.`
-+  - Campo de confirmaci√≥n: input corto que requiere escribir **ELIMINAR** para habilitar el bot√≥n.
-+  - Botones:
-+    - **[Eliminar horario]** (primario, rojo) ‚Üí habilitado solo si se escribi√≥ ELIMINAR.
-+    - **[Cancelar]** (secundario) ‚Üí cierra sin cambios.
-+- **Al confirmar:** se elimina el horario, se cancelan solicitudes activas asociadas, se env√≠an notificaciones a viajeros/conductor/admins y se muestra Snackbar ‚ÄúHorario eliminado y solicitudes canceladas‚Äù.
-+
- > ### **6.3.2 Hora Salida: Detalle y Solicitud**
- >
- > AppBar sin icono ‚úã (pantalla secundaria de detalle/solicitud).
-@@ -1595,6 +1670,34 @@ Si no se es Creador/Admin del grupo: la vista de esta pantalla ser√° igual pero
- > - Si el horario **ya ha pasado**, se deshabiltar√° el bot√≥n solicitar plaza y si es pulsado lanza snak o notificacion "esta salida ya no acepta solicitudes".
- > - Si existe **conductor tard√≠o** o cambios de √∫ltima hora, el sistema mantiene la coherencia y notifica a afectados (ver 5. Reglas y Validaciones).
- 
-+#### **6.3.2.a Modal de continuidad de conductor (post-viaje)**
-+
-+- **Cu√°ndo se muestra:** Al marcar ‚ÄúLlegada‚Äù (o detecci√≥n autom√°tica) y solo si hay otra salida del mismo d√≠a para la misma lanzadera y el conductor no tiene asignaci√≥n por rango.
-+- **No se muestra** si la siguiente salida ya tiene conductor asignado; en su lugar se muestra mensaje informativo: **‚ÄúYa hay un conductor asignado para esta salida.‚Äù**
-+- **UI:** Modal centrado, bloqueante (no se cierra tocando fuera).
-+  - T√≠tulo: **‚Äú¬øDeseas continuar como conductor en la siguiente salida?‚Äù**
-+  - Subt√≠tulo: ‚ÄúSi contin√∫as, seguir√°s como conductor en la siguiente salida disponible.‚Äù
-+  - Botones:
-+    - **[S√≠, continuar]** (primario) ‚Üí confirma rol para la siguiente salida disponible si no hay otro conductor asignado. Si no tiene veh√≠culo asignado, abre selector de veh√≠culo (6.3.2 / Pantalla 10) y aplican reglas T-30.
-+    - **[No, finalizar]** (secundario) ‚Üí libera el rol tras la salida actual.
-+- **Timeout:** 2 minutos sin respuesta ‚Üí se cierra como ‚Äúsin respuesta‚Äù; se dispara el flujo de avisos (push a admins a los 5 min y aviso T-40 al chat si sigue sin conductor).
-+
-+> #### **6.3.2.b Subpantalla de asignaci√≥n de conductor (Creador/Admin)**
-+>
-+> - **Acceso:** bot√≥n **‚ÄúAsignar conductor‚Äù** visible solo para Creador/Admin en 6.3.2 y desde notificaci√≥n 7.3 (abre esta subpantalla con la salida preseleccionada).
-+> - **Contenido:**
-+>   - Buscador de miembros por nombre.
-+>   - Lista de miembros con:
-+>     - Nombre + badge de rol (Creador/Admin/Miembro).
-+>     - Disponibilidad: en el grupo, tiene veh√≠culo, ubicaci√≥n permitida (indicadores).
-+>     - Reputaci√≥n r√°pida (conductor/viajero) y contador de viajes.
-+>     - Opci√≥n de preseleccionar veh√≠culo (selector r√°pido si tiene veh√≠culos).
-+>   - Aviso si la salida ya tiene conductor asignado.
-+> - **Acciones:**
-+>   - **[Asignar como conductor]** (primario) ‚Üí dispara alerta 7.3 al usuario seleccionado; si hay veh√≠culo preseleccionado, se adjunta.
-+>   - **[Cancelar]** (secundario) ‚Üí cierra sin cambios.
-+> - **Feedback:** Snackbar **‚ÄúSolicitud de conductor enviada a [usuario]‚Äù**; el estado queda visible en 7.3 hasta aceptaci√≥n/rechazo.
-+
- ### **6.3.3 Pantalla Creaci√≥n/Edici√≥n Horario**
- 
- Se abre desde dos posibles lugares (siendo Creador/Admin del grupo al que pertenece la lanzadera de este horario el usuario que la abre):
-@@ -1612,16 +1715,7 @@ En esta pantalla ser√° posible:
- - **[Cancelar]**
- - **[Ver horas actuales]**
- 
--Si se pulsa **Ver horas actuales**, se muestran **tres tarjetas comparativas** con el resultado final de las horas para ese d√≠a, para elegir **una sola opci√≥n**:
--
--- **Horas actuales**: mantiene exactamente las horas que ya tiene el d√≠a.
--- **Fusionar horas**: mezcla horas actuales + nuevas sin duplicados (mostrar lista resultante).
--- **Horas nuevas**: sustituye las horas actuales por las nuevas seleccionadas.
--
--Tras elegir una tarjeta:
--
--- aparece un bot√≥n **[Confirmar]** para aplicar la opci√≥n.
--- Si el usuario sale del modal pulsando **Cancelar** (o cualquier otra acci√≥n que implique cancelaci√≥n de la selecci√≥n), el d√≠a que acababa de seleccionar quedar√° **deseleccionado autom√°ticamente**.
-+Si se pulsa **Ver horas actuales**, se abre el **Modal de conflictos de horario** (ver **6.3.3.a**) con tres tarjetas comparativas para elegir una sola opci√≥n.
- 
- En caso de deseleccionar un d√≠a que ya formaba parte del horario, se abrir√° un modal de confirmaci√≥n preguntando qu√© acci√≥n realizar.  
- Este modal mostrar√° las siguientes opciones:
-@@ -1655,7 +1749,7 @@ De este modo, los horarios creados en un sentido se aplican a todos los d√≠as ma
- En la parte superior se mostrar√°n los lugares de recogida y destino correspondientes a cada vista de Ida o Vuelta, para evitar confusiones. Por ejemplo, si en la vista de ida los horarios indican salidas desde la Estaci√≥n hacia la Nave, se mostrar√° arriba: ‚ÄúSalida desde: Estaci√≥n ¬∑ Destino: Nave‚Äù, y viceversa en la vista de vuelta.
- Adem√°s, el color del texto de cada lugar (tanto en ‚ÄúSalida desde‚Äù como en ‚ÄúDestino‚Äù) coincidir√° con el color del sentido del viaje ‚Äîazul para Ida y rojo para Vuelta‚Äî para facilitar su comprensi√≥n visual. Cada sentido mantendr√° siempre su color asociado, aunque los lugares intercambien su posici√≥n como origen o destino seg√∫n est√© seleccionada la vista de Ida o de Vuelta en la secci√≥n de horas.
- 
--El guardado de cambios se har√° desde el boton de guardar abajo a la derecha en la misma pantalla (tambien estar√° el de cancelar a la izquierda). Si sale de la pantalla sin pulsar el bot√≥n de guardado se abre un modal que pide confirmaci√≥n para guardar cambios (este estado hay que guardarlo para que esta parte se cumpla aunque se cierre la app).
-+El guardado de cambios se har√° desde el boton de guardar abajo a la derecha en la misma pantalla (tambien estar√° el de cancelar a la izquierda). Si sale de la pantalla sin pulsar el bot√≥n de guardado se abre un modal que pide confirmaci√≥n para guardar cambios (ver **6.3.3.b**) (este estado hay que guardarlo para que esta parte se cumpla aunque se cierre la app).
- 
- **Estados visuales de d√≠as (selector semanal en 6.3.3):**
- 
-@@ -1665,6 +1759,34 @@ El guardado de cambios se har√° desde el boton de guardar abajo a la derecha en
- 
- **Leyenda/ayuda breve:** ‚ÄúGris = ocupado por otro horario; Azul/Rojo = seleccionado; Blanco = disponible.‚Äù
- 
-+#### **6.3.3.a Modal de conflictos de horario**
-+
-+- **Cu√°ndo se muestra:** al pulsar un d√≠a ocupado por otro horario y elegir **Ver horas actuales**.
-+- **Layout:** modal centrado, ancho medio; scroll si hay muchas horas.
-+- **Tarjetas (stack vertical en m√≥vil):**
-+  1. **Horas actuales** (badge gris ‚ÄúActual‚Äù): lista de horas actuales en chips.
-+  2. **Fusionar horas** (badge azul ‚ÄúFusionar‚Äù): mezcla sin duplicados; chips resultantes.
-+  3. **Horas nuevas** (badge verde ‚ÄúNuevas‚Äù): solo las horas nuevas seleccionadas; chips.
-+- **Selecci√≥n:** solo una tarjeta puede estar activa; estado seleccionado con borde y check ‚úî.
-+- **Acciones:**
-+  - **[Confirmar]** (primario) habilitado solo con tarjeta seleccionada ‚Üí aplica opci√≥n.
-+  - **[Cancelar]** (secundario) ‚Üí cierra sin cambios y deja el d√≠a deseleccionado.
-+- **Estados visuales adicionales:**
-+  - Tarjeta deshabilitada (opacidad reducida) si no hay datos (ej. sin horas nuevas).
-+  - Si la opci√≥n fusionar no cambia nada, mostrar aviso ‚ÄúSin cambios; se mantienen las horas actuales‚Äù.
-+
-+#### **6.3.3.b Modal de guardar cambios (salir sin guardar)**
-+
-+- **Cu√°ndo se muestra:** al intentar salir con cambios no guardados en pantallas de edici√≥n (p. ej. 6.3.3).
-+- **UI:** modal centrado/bottom sheet bloqueante.
-+  - T√≠tulo: **‚ÄúTienes cambios sin guardar‚Äù**
-+  - Texto: ‚Äú¬øQu√© deseas hacer?‚Äù
-+  - Botones:
-+    - **[Descartar]** (secundario) ‚Üí cierra y pierde cambios.
-+    - **[Guardar]** (primario) ‚Üí ejecuta guardado y luego cierra.
-+    - **[Cancelar]** (texto) ‚Üí vuelve a la edici√≥n sin cambiar nada.
-+- **Comportamiento:** si no hay conexi√≥n, mostrar aviso en el modal (‚ÄúSe guardar√° al recuperar conexi√≥n‚Äù o bloquear ‚ÄúGuardar‚Äù seg√∫n pol√≠tica offline).
-+
- #### **6.4 Mapa** _(incluido en MVP)_
- 
- - Trayecto en l√≠nea azul
-@@ -1706,7 +1828,7 @@ Pantalla independiente accesible desde el **icono de notificaciones (üîî)** en
-   - Icono: sobre cerrado con punto rojo para no le√≠das; sobre abierto y fondo gris claro para le√≠das (fondo blanco para no le√≠das).
-   - T√≠tulo + descripci√≥n breve + timestamp.
-   - Badge si est√° no le√≠da.
--  - Acciones contextuales seg√∫n tipo (ej.: Aceptar/Rechazar invitaci√≥n; Ver cambios; Eliminar) incluyen los botones al abrir. Si es una notificaci√≥n de solicitud (conducci√≥n por parte de admin/creador, otro usuario, o de creaci√≥n de veh√≠culo), la notificaci√≥n al abrirse incluye botones para aceptar o rechazar.
-+  - Acciones contextuales seg√∫n tipo (ej.: Aceptar/Rechazar invitaci√≥n; Ver cambios; Eliminar) incluyen los botones al abrir. Si es una notificaci√≥n de solicitud (conducci√≥n por parte de admin/creador, otro usuario, o de creaci√≥n de veh√≠culo), la notificaci√≥n al abrirse incluye botones para aceptar o rechazar. Las invitaciones a grupos abren el **Modal/Pantalla 7.1**.
- - **Estados vac√≠os**: mensaje claro y CTA para volver o refrescar.
- - **Filtros**: icono de filtro para elegir grupo y lanzadera (listas con checkboxes, m√∫ltiples selecciones suman); icono de limpiar filtro para reiniciar selecci√≥n.
- 
-@@ -1732,7 +1854,7 @@ Contiene notificaciones que requieren **respuesta activa** del usuario:
- - Si el usuario actual **es el conductor**:
-   - Icono üîî del AppBar muestra **badge extra de ubicaci√≥n (üìç)**
-   - Notificaci√≥n marcada con ‚ö†Ô∏è y prioridad m√°xima
--  - Modal directo al abrir: **"Activa tu ubicaci√≥n para continuar como conductor"** ‚Üí [Activar ubicaci√≥n] [Cancelar]
-+  - Modal directo al abrir (ver **7.2**): **"Activa tu ubicaci√≥n para continuar como conductor"** ‚Üí [Activar ubicaci√≥n] [Cancelar]
- 
- ### **Comportamiento de marcado autom√°tico**
- 
-@@ -1747,8 +1869,10 @@ Contiene notificaciones que requieren **respuesta activa** del usuario:
- ### **Comportamiento**
- 
- - Tocar una notificaci√≥n:
--  - Si es invitaci√≥n de grupo ‚Üí abre detalle con botones **[Aceptar] [Rechazar]**; tambi√©n crea entrada en lista de chats privados con el invitante (bloqueada hasta que el invitado responda o acepte).
-+  - Si es invitaci√≥n de grupo ‚Üí abre detalle **7.1** con botones **[Aceptar] [Rechazar]**; tambi√©n crea entrada en lista de chats privados con el invitante (bloqueada hasta que el invitado responda o acepte).
-   - Si es cambio de horario/lanzadera ‚Üí abre la pantalla relevante (horarios/detalle de salida) y marca como le√≠da.
-+  - Si es alerta de conductor sin ubicaci√≥n ‚Üí abre el **Modal prioritario 7.2**.
-+  - Si es alerta/asignaci√≥n de conductor (admin/creador) ‚Üí abre el **Modal 7.3** para aceptar/rechazar con motivo.
- - Al marcar como le√≠da se actualiza el badge del icono üîî.
-   Las notificaciones de invitaci√≥n a grupo tambi√©n muestran, dentro del chat privado del invitante, botones inline **[Aceptar invitaci√≥n] / [Rechazar]**; aceptar desde cualquiera de los dos lugares desbloquea el chat completo.
- 
-@@ -1760,6 +1884,77 @@ Contiene notificaciones que requieren **respuesta activa** del usuario:
- 
- ---
- 
-+## **7.1 PANTALLA / MODAL DE INVITACI√ìN A GRUPO (RECEPTOR)**
-+
-+### **Funci√≥n**
-+
-+- Mostrar detalle de una invitaci√≥n recibida a un grupo y permitir **Aceptar** o **Rechazar** con informaci√≥n suficiente antes de decidir.
-+
-+### **Accesos**
-+
-+- Al tocar una notificaci√≥n de invitaci√≥n (Notificaciones 6.2).
-+- Desde el chat privado con el invitante v√≠a botones inline **[Aceptar invitaci√≥n] / [Rechazar]**.
-+
-+### **Contenido**
-+
-+- Invitante: nombre + avatar (tap abre perfil).
-+- Grupo: nombre, tipo (P√∫blico/Privado), recuento de miembros, breve descripci√≥n (si existe).
-+- Nivel de visibilidad: badge **P√∫blico** / **Privado**.
-+- Informaci√≥n extra: fecha de creaci√≥n (opcional), n√∫mero de lanzaderas activas (si disponible).
-+
-+### **UI y acciones**
-+
-+- Modal/pantalla centrada (seg√∫n plataforma), bloqueante hasta decidir:
-+  - T√≠tulo: **‚ÄúTe han invitado a un grupo‚Äù**
-+  - Subt√≠tulo: **‚Äú[Invitante] te invita a unirte a [Nombre del grupo]‚Äù**
-+  - Botones:
-+    - **[Aceptar]** (primario) ‚Üí une al grupo, marca notificaci√≥n como aceptada y desbloquea chat con invitante.
-+    - **[Rechazar]** (secundario/destructive) ‚Üí declina, cierra modal, marca notificaci√≥n como rechazada.
-+  - Enlace contextual: **‚ÄúVer info del grupo‚Äù** ‚Üí muestra resumen (nombre, tipo, miembros, lanzaderas activas).
-+- Al aceptar: toast/snackbar ‚ÄúTe uniste a [grupo]‚Äù; grupo aparece en lista de grupos; chat privado con invitante queda abierto.
-+- Al rechazar: toast ‚ÄúInvitaci√≥n rechazada‚Äù; el chat queda cerrado/bloqueado.
-+
-+### **Comportamiento con notificaciones y chat**
-+
-+- Si se acepta desde notificaci√≥n o modal, se sincroniza el estado con el chat privado (desbloqueado).
-+- Si se rechaza, el chat se cierra para ambos.
-+- La notificaci√≥n pasa a le√≠da; si hab√≠a badge en pesta√±a `Solicitudes`, se reduce.
-+
-+### **7.2 Modal prioritario de activaci√≥n de ubicaci√≥n (conductor)**
-+
-+- **Cu√°ndo se muestra:** alerta especial de conductor sin ubicaci√≥n (T-40 min configurable) cuando el usuario es el conductor.
-+- **UI:** modal centrado o bottom sheet bloqueante (no cierra al tocar fuera).
-+  - T√≠tulo: **‚ÄúActiva tu ubicaci√≥n para continuar como conductor‚Äù**
-+  - Texto: ‚ÄúFaltan [X] minutos para la salida. La ubicaci√≥n es obligatoria para seguir como conductor.‚Äù
-+  - Botones:
-+    - **[Activar ubicaci√≥n]** (primario) ‚Üí abre permisos/ajustes seg√∫n plataforma y reintenta activaci√≥n.
-+    - **[Cancelar conducci√≥n]** (secundario/destructive) ‚Üí libera el rol; se notifica a creador/admin y chat de lanzadera.
-+- **Comportamiento:**
-+  - Si activa ubicaci√≥n, se cierra el modal y se limpia el badge de alerta.
-+  - Si cancela conducci√≥n, se dispara flujo de reasignaci√≥n (avisos a admin/chat) y la salida queda sin conductor hasta que se asigne otro.
-+  - Si cierra con back/sistema, se mantiene la alerta y badge hasta resolver.
-+
-+### **7.3 Modal/Pantalla de alertas de conductor (admin/creador ‚Üí conductor)**
-+
-+- **Contexto:** alertas del sistema de conductores (asignaci√≥n o aviso de servicio) disparadas por admin/creador hacia un usuario conductor.
-+- **Accesos:** notificaci√≥n en pesta√±a `Solicitudes`, y bot√≥n inline en chat privado admin‚Üîconductor (panel de veh√≠culos) abre el mismo flujo.
-+- **UI (conductor):** modal centrado / bottom sheet, prioridad alta.
-+  - T√≠tulo: **‚ÄúServicio de lanzadera como conductor‚Äù**
-+  - Subt√≠tulo: ‚ÄúHas sido seleccionado para conducir la lanzadera [Nombre] el [d√≠a] a las [hora].‚Äù
-+  - Botones:
-+    - **[Aceptar]** (primario) ‚Üí confirma asignaci√≥n; si no hay veh√≠culo, abre selector (10) y aplica reglas T-30.
-+    - **[Rechazar]** (secundario/destructive) ‚Üí requiere motivo (picker con opciones r√°pidas: ‚ÄúImprevisto urgente‚Äù, ‚ÄúNo estoy asignado‚Äù, ‚ÄúOtro conductor ser√°‚Äù, + texto opcional).
-+  - Enlace: **‚ÄúVer detalles de la salida‚Äù** ‚Üí lleva a 6.3.2.
-+- **UI (admin/creador):** vista de respuesta en la notificaci√≥n (o panel de solicitudes) con estado:
-+  - Pendiente / Aceptada / Rechazada (con motivo).
-+  - Acciones: **[Reasignar]** (selector de usuario), **[Enviar mensaje]** (abre chat privado), **[Cancelar alerta]**.
-+- **Comportamiento:**
-+  - Si no hay respuesta en 5 min ‚Üí reenv√≠o al conductor y aviso a otros admins; a T-40 se publica en chat de lanzadera ‚ÄúSe necesita conductor‚Äù.
-+  - Al aceptar: se notifica a admin/creador y chat; se limpia la alerta de solicitudes.
-+  - Al rechazar: se notifica a admin/creador con motivo; se invita a reasignar; la alerta queda resuelta.
-+
-+---
-+
- ## **8. PANTALLA ‚ÄúMIS SOLICITUDES‚Äù**
- 
- _(Acceso universal desde el icono ‚úã en todas las AppBars de la app)_
-@@ -2208,13 +2403,21 @@ Al abrir la pantalla es una listview que en principio est√° vac√≠a y se van agre
- **Reglas y comportamiento**
- 
- - Si faltan menos de **30 minutos** y a√∫n no hay veh√≠culo elegido:
--  - Se enviar√° notificaci√≥n de urgencia al conductor.
--  - Si no responde en 5 minutos, se notifica al creador/admin y al chat de la lanzadera.
-+  - **Alerta al conductor (no silenciable)**: push + banner in-app persistente con CTA **[Elegir veh√≠culo ahora]** (abre Pantalla 10 con la lanzadera preseleccionada) y **[Recordar en 5 min]**.
-+  - **Timeout 5 min sin acci√≥n**: se reenv√≠a la alerta al conductor y se notifica a creador/admin + chat de la lanzadera con mensaje de urgencia (‚ÄúSalida sin veh√≠culo asignado‚Äù). El conductor mantiene un badge rojo en la AppBar hasta asignar veh√≠culo.
-+  - **Tap en la notificaci√≥n**: abre directamente Pantalla 10 en modo selecci√≥n (lista de veh√≠culos con bot√≥n ‚Äúelegir como lanzadera‚Äù); al confirmar, se cierra la alerta.
- 
- **Acceso a las funciones**:
- 
- - **Ver:** pulsando √≠tem/veh√≠culo en la listview.
--- **Elegir:** pulsando √≠tem/veh√≠culo y luego, dentro del veh√≠culo, arriba bot√≥n **"elegir como lanzadera"**.
-+- **Badge de aver√≠as:** si un veh√≠culo tiene aver√≠as activas, mostrar badge **‚ö†Ô∏è** rojo en el √≠tem de la lista.
-+- **Elegir como lanzadera (selecci√≥n para salida)**:
-+  - Bot√≥n visible dentro de la ficha (Pantalla 10.2) solo si el usuario es Creador/Admin, conductor asignado/solicitado o creador del veh√≠culo.
-+  - Texto din√°mico:
-+    - Si el usuario tiene **1 salida como conductor** pr√≥xima/activa: **"Elegir para [hoy/fecha] [hora]"**.
-+    - Si tiene **>1 salida como conductor**: **"Elegir veh√≠culo"** ‚Üí abre selector de salidas; cada opci√≥n muestra fecha/hora y lanzadera.
-+  - Validaciones: no muestra salidas solapadas si el veh√≠culo ya est√° reservado; indica conflicto con badge ‚ö†Ô∏è si se intenta elegir.
-+  - Feedback: al elegir se muestra Snackbar **"Veh√≠culo asignado a [lanzadera ¬∑ hora]"** y se vuelve a la pantalla previa (6.3.2 o 8) desde donde se inici√≥ la selecci√≥n; el badge rojo de falta de veh√≠culo se limpia si aplica.
- - **Agregar:** En la listview de items/veh√≠culos, abajo a la derecha, bot√≥n flotante (+).
- - **Editar y eliminar:** pulsaci√≥n larga sobre el √≠tem del veh√≠culo en la lista:
-   - Arriba la barra da a elegir entre eliminar o editar:
-@@ -2223,14 +2426,17 @@ Al abrir la pantalla es una listview que en principio est√° vac√≠a y se van agre
- 
- **Acceso a la pantalla Gesti√≥n de veh√≠culos**:
- 
--- Desde Ajustes del grupo (cada grupo maneja sus veh√≠culos).
-+- Desde Ajustes del grupo y men√∫ ‚ãÆ del Nivel Grupo, habilitado para:
-+  - Creadores y administradores.
-+  - Usuarios con rol de conductor asignado (o solicitud aprobada) en alguna lanzadera del grupo.
-+  - Usuarios que hayan creado un veh√≠culo del grupo (pueden acceder para proponer correcciones aunque no est√©n asignados como conductores en ese momento).
- - Cuando se apruebe como conductor a un usuario, ya que asignar un veh√≠culo es paso obligado para poder usar una lanzadera.
- 
- **Permiso de acceso para crear/agregar, editar o eliminar veh√≠culos:**
- 
- - **Creadores y administradores:** pueden agregar veh√≠culos directamente (aprobados autom√°ticamente). Pueden editar/eliminar cualquier veh√≠culo del grupo.
- - **Cualquier miembro actuando como conductor:** puede solicitar aprobaci√≥n para crear nuevos veh√≠culos cuando va a conducir.
--- **Conductor que cre√≥ el veh√≠culo:** puede editar su propio veh√≠culo sin autorizaci√≥n adicional.
-+- **Conductor que cre√≥ el veh√≠culo:** puede proponer ediciones de su propio veh√≠culo en cualquier momento, aunque no est√© asignado como conductor en una salida actual; los cambios quedan pendientes de aprobaci√≥n de creador/admin si el usuario no es creador/admin.
- 
- **Funcionalidades:**
- 
-@@ -2277,6 +2483,11 @@ En esta pantalla se puede modificar de un veh√≠culo:
- 
- ### 10.2 Pantalla VISTA DE VEH√çCULO
- 
-+**Encabezado:**
-+
-+- Nombre del veh√≠culo (+ matr√≠cula opcional).
-+- **Aver√≠as activas:** si existen, mostrar icono **‚ö†Ô∏è** rojo junto al nombre; al pulsarlo ‚Üí abre 10.2.a con filtro ‚ÄúAver√≠as‚Äù activado.
-+
- > **Datos del veh√≠culo**
- 
- - **Obligatorios:**
-@@ -2314,29 +2525,85 @@ En esta pantalla se puede modificar de un veh√≠culo:
- - Debajo de un titulo "Historial de Veh√≠culo" hay un container con listview, con items de cada uso que ha tenido el veh√≠culo:
-   - ej.: ‚Äú√öltima vez: Lanzadera Nave ‚Üî Estaci√≥n, 7:30 - 05/11/2025‚Äù.
-   - En varias lineas si es necesario, bien organizado y limpio.
-+    > **Notas y advertencias adicionales**
-+    >
-+    > **Funci√≥n**:
-+    > Este apartado contiene informaci√≥n √∫til relacionada con el uso real del veh√≠culo (caracter√≠sticas, peculiaridades, trucos, aver√≠as, etc.).
-+
-+**Interfaz en Pantalla 10.2 (Vista de Veh√≠culo):**
-+
-+- **Preview compacto de notas** en un container no scrollable:
- 
--> **Notas y advertencias adicionales** > > **Funci√≥n**:
--> Este apartado contiene informaci√≥n √∫til relacionada con el uso real del veh√≠culo (caracter√≠sticas, peculiaridades, trucos, aver√≠as, etc.).
--
--- Se muestra en un **container scrollable** con **ListView** de notas.
--- Cada nota mostrar√°:
--
--  - Fecha de creaci√≥n
--  - Fecha de √∫ltima confirmaci√≥n/verificaci√≥n de que nota sigue activa y √∫til.
--  - Usuario que la registr√≥
--  - Mensaje de la nota.
--
--- Las notas se clasifican en:
--  - **Caracter√≠stica**
--  - **Aver√≠a**
--- Si la nota es una **Aver√≠a**, aparecer√° un icono de advertencia en:
--  - El √≠tem del veh√≠culo en la lista
--  - La cabecera del veh√≠culo dentro de su ficha
--- En la parte inferior derecha del listado habr√° un **bot√≥n flotante (FAB)** para agregar nuevas notas:
--  - Al pulsarse: abre modal:
--    - Por defecto cada nota ser√° una carcteristica del vehiculo, abr√° que pulsar el icono averia (dentro del modal) para advertir que la nota es una aver√≠a.
--    - Debajo estar√° el espacio para el texto de la nota.
--    - Bot√≥nes de cancelar y a√±adir nota.
-+  - Muestra **m√°ximo 3 notas m√°s recientes** (chips compactos con icono, fecha y primeras palabras).
-+  - Si hay **aver√≠as activas**: badge rojo **‚ö†Ô∏è** visible en la cabecera del veh√≠culo y junto al t√≠tulo "Notas".
-+  - Bot√≥n **"Ver todas las notas"** ‚Üí abre **10.2.a** (historial completo).
-+
-+- **Bot√≥n flotante (FAB +)** en parte inferior derecha para **agregar nueva nota**:
-+  - Abre modal:
-+    - Toggle o bot√≥n para elegir tipo: **Caracter√≠stica** (por defecto) / **Aver√≠a** (icono ‚ö†Ô∏è).
-+    - Campo de texto para el contenido de la nota (200-500 caracteres).
-+    - Botones: **[Cancelar]** **[A√±adir nota]**.
-+
-+#### **10.2.a Pantalla de historial completo de notas/aver√≠as**
-+
-+- **Funci√≥n:** ver y gestionar **todas** las notas/aver√≠as de un veh√≠culo espec√≠fico.
-+- **Acceso:** desde 10.2 (Vista de veh√≠culo) ‚Üí bot√≥n **"Ver todas las notas"**.
-+
-+**Contenido:**
-+
-+- **Lista cronol√≥gica completa** (m√°s recientes arriba, scrollable) con todas las notas del veh√≠culo:
-+  - Icono: ‚ÑπÔ∏è para **Caracter√≠stica**, ‚ö†Ô∏è para **Aver√≠a**.
-+  - Etiqueta/badge: "Caracter√≠stica" (azul claro) / "Aver√≠a" (rojo).
-+  - Texto completo de la nota.
-+  - Autor (nombre del usuario que la cre√≥) y fechas:
-+    - Fecha de creaci√≥n.
-+    - Fecha de √∫ltima verificaci√≥n/confirmaci√≥n (si aplica).
-+- **Filtros r√°pidos** (chips superiores): **[Todas]** **[Aver√≠as]** **[Caracter√≠sticas]**.
-+
-+**Acciones:**
-+
-+- **Agregar nota:** FAB (+) reutiliza el modal descrito en 10.2 (tipo, texto, Cancelar/A√±adir).
-+- **Editar/Eliminar (notas propias):** si el usuario cre√≥ la nota:
-+  - Tap sobre la nota ‚Üí abre modal de edici√≥n (mismo formulario que creaci√≥n); al guardar actualiza la nota.
-+  - Opci√≥n **"Eliminar"** (bot√≥n destructive) para borrar su propia nota.
-+- **Notas de otros usuarios:** solo lectura (no editable ni eliminable).
-+
-+**Diferenciaci√≥n visual:**
-+
-+- **Aver√≠as:** borde/strip rojo lateral, badge ‚ö†Ô∏è destacado.
-+- **Caracter√≠sticas:** borde neutro o azul claro, icono ‚ÑπÔ∏è.
-+- Autor y fechas en texto secundario gris (#757575).
-+- Si hay muchas notas, agrupaci√≥n opcional por mes/semana (separadores de fecha).
-+
-+**Indicadores en Pantalla 10 (Lista de veh√≠culos):**
-+
-+- Si un veh√≠culo tiene **aver√≠as activas**, mostrar badge **‚ö†Ô∏è** en el √≠tem de la lista (junto a miniatura o matr√≠cula).
-+
-+---
-+
-+### **10.3 Selecci√≥n de veh√≠culo para salida activa (Conductor)**
-+
-+**Contexto**: Cuando un usuario es conductor de una salida, debe elegir veh√≠culo antes de T-30 min.
-+
-+**Accesos al flujo**:
-+
-+1. Desde **Pantalla 6.3.2 (Detalle de Salida)**: bot√≥n "Seleccionar veh√≠culo" (visible solo para conductor)
-+2. Desde **Pantalla 8 (Mis Solicitudes)**: en √≠tems donde el usuario es conductor, bot√≥n "Elegir veh√≠culo"
-+3. Desde **notificaci√≥n de urgencia T-30**: al tocar abre directamente Pantalla 10 con la lanzadera preseleccionada
-+
-+**Dentro de Pantalla 10.2 (Vista de Veh√≠culo)**:
-+
-+- Bot√≥n **"Elegir para salida [hora]"** seg√∫n reglas de visibilidad descritas en ‚ÄúAcceso a las funciones‚Äù (solo creador/admin, conductor asignado/solicitado o creador del veh√≠culo).
-+- Al pulsar:
-+  - Si hay **1 salida** pendiente/activa donde es conductor ‚Üí asigna directamente, muestra Snackbar "Veh√≠culo asignado", vuelve a pantalla previa (6.3.2 o 8).
-+  - Si hay **m√∫ltiples salidas** ‚Üí abre selector con lista (fecha/hora/lanzadera); tras elegir, asigna y muestra Snackbar.
-+  - Si hay conflicto (veh√≠culo ya asignado en horario solapado) ‚Üí muestra aviso ‚ö†Ô∏è y no permite elegir esa salida.
-+
-+**Notificaci√≥n de urgencia T-30**:
-+
-+- **Tipo**: push + banner in-app persistente (no silenciable) con CTA **[Elegir veh√≠culo ahora]** y **[Recordar en 5 min]**; al tocar abre Pantalla 10 en modo selecci√≥n.
-+- **Escalado**: si en 5 min no hay acci√≥n, se notifica a creador/admin y al chat de lanzadera; se mantiene badge rojo hasta asignar veh√≠culo.
-+- **Si ignora**: a los 5 min, notificaci√≥n a creador/admin + mensaje en chat de lanzadera
- 
- ---
- 
-@@ -2563,6 +2830,30 @@ Tendr√° varios canales de chat:
- - **Sin horarios hoy:** Estado informativo cuando no hay viajes programados
- - **Conflicto de horarios:** Manejo de overlapping entre diferentes viajes
- 
-+### **Estados de error y vac√≠os (UI detallada)**
-+
-+**Patr√≥n base de empty state:**
-+- Layout centrado vertical, icono 64‚Äì80dp gris medio (#9E9E9E), t√≠tulo 18sp semi-bold gris oscuro (#424242), descripci√≥n 14sp gris medio (#757575) m√°x. 2 l√≠neas, CTA principal (si aplica) + CTA secundario opcional.
-+
-+- **Sin conexi√≥n (global):** overlay full-screen con icono `wifi_off`, mensaje ‚ÄúSin conexi√≥n‚Äù, detalle ‚ÄúRevisa tu red o int√©ntalo de nuevo‚Äù; bot√≥n primario **[Reintentar]** y bot√≥n texto **[Trabajar sin conexi√≥n]** si hay cach√© disponible (solo lectura de √∫ltimos datos).
-+- **Sin grupos (Nivel Grupos):** ilustraci√≥n ligera + mensaje ‚ÄúNo tienes grupos a√∫n‚Äù; CTAs: **[Buscar grupos p√∫blicos]** y **[Crear grupo]** (primario). Bot√≥n secundario **[Pegar enlace de invitaci√≥n]** si hay portapapeles con link.
-+- **Sin lanzaderas en grupo (Nivel Grupo - Home):** estado ya descrito en 5.1, reforzar CTA: **[Crear primera lanzadera]** (creador/admin) o mensaje ‚ÄúPide a un admin que cree la primera lanzadera‚Äù (miembro).
-+- **Sin horarios hoy (Nivel Grupo - Horarios / Nivel Lanzadera - Horarios):** mensaje ‚ÄúNo hay salidas para hoy en este grupo/lanzadera‚Äù; CTAs contextuales: **[Configurar primer horario]** (creador/admin) o **[Ver otros d√≠as]** (filtra calendario).
-+- **Sin notificaciones (Pantalla 7):** icono üîî apagado, ‚ÄúNo tienes notificaciones‚Äù, sin CTA o **[Actualizar]**.
-+- **Sin solicitudes (Pantalla 8):** icono üìã, ‚ÄúNo tienes solicitudes‚Äù, texto ‚ÄúCuando solicites una plaza o conducci√≥n, aparecer√° aqu√≠‚Äù.
-+- **Conflicto de horarios (solapamiento):** usar el modal 6.3.3.a; estado visual previo en selector de d√≠as: d√≠as en gris con badge ‚ö†Ô∏è y tooltip ‚ÄúD√≠a ocupado por otro horario‚Äù.
-+
-+### **Modal reutilizable "Guardar cambios"**
-+
-+- **Cu√°ndo se usa:** cualquier pantalla de edici√≥n si el usuario intenta salir con cambios sin guardar (5.1.1, 6.3.3, 9.1, 10.1, etc.).
-+- **UI:** modal centrado/bottom sheet bloqueante; icono ‚ö†Ô∏è opcional.
-+- **Texto:** T√≠tulo ‚ÄúTienes cambios sin guardar‚Äù; descripci√≥n ‚Äú¬øQu√© deseas hacer?‚Äù.
-+- **Botones:**
-+  - **[Descartar]** (destructive/secondary) ‚Üí pierde cambios y cierra.
-+  - **[Guardar]** (primario) ‚Üí valida y guarda; si falla validaci√≥n, muestra errores y mantiene en pantalla.
-+  - **[Cancelar]** (texto) ‚Üí cierra modal y sigue en edici√≥n.
-+- **Sin conexi√≥n:** si no hay red, mostrar nota ‚ÄúSe guardar√° al recuperar conexi√≥n‚Äù o deshabilitar ‚ÄúGuardar‚Äù seg√∫n pol√≠tica offline de la pantalla.
-+
- ### **Accesibilidad:**
- 
- - Soporte para lectores de pantalla
-diff --git a/docs/dev_log.md b/docs/dev_log.md
-index f1bfb87..7c21ba6 100644
---- a/docs/dev_log.md
-+++ b/docs/dev_log.md
-@@ -13,7 +13,7 @@ Sirve para:
- 
- # üìç Estado actual
- 
--Fase activa: **0 ‚Äî cierre de punto 8 completo**
-+Fase activa: **0 ‚Äî punto 9: Gu√≠as visuales b√°sicas por empezar**
- √öltima actualizaci√≥n: 2025-11-26
- 
- ---
-@@ -140,6 +140,40 @@ Fase activa: **0 ‚Äî cierre de punto 8 completo**
- 
- ---
- 
-+## üóìÔ∏è D√≠a 6 ‚Äî 2025-11-27
-+
-+### ‚úî Trabajo realizado:
-+
-+- Se registr√≥ que el √≠tem **"Conductor visible en listado"** de la Fase 0 ya estaba cubierto en `SPECS.md` (secci√≥n 5.3: tarjetas de lanzaderas muestran `Conductor: Nombre` / `Sin conductor` junto a plazas).
-+- Se afin√≥ **Gesti√≥n de veh√≠culos**: acceso visible a creador/admin, conductores asignados/solicitados y creadores de un veh√≠culo del grupo; permisos claros (creador/admin gestionan, conductores pueden elegir y solicitar alta/edici√≥n con aprobaci√≥n). `SPECS.md` y `ROADMAP.md` actualizados.
-+- Se detall√≥ la alerta **T-30 min sin veh√≠culo**: push + banner persistente con CTA a Pantalla 10, recordatorio a 5 min, escalado a creador/admin y chat; badge rojo hasta asignar veh√≠culo.
-+- Se especific√≥ el flujo **‚ÄúElegir como lanzadera‚Äù** en Pantalla 10.2: visibilidad por rol (creador/admin, conductor asignado/solicitado, creador del veh√≠culo), texto din√°mico seg√∫n n√∫mero de salidas, selector cuando hay varias, validaci√≥n de solapes y feedback con Snackbar + retorno a la pantalla previa; notificaci√≥n T-30 abre Pantalla 10 con lanzadera preseleccionada.
-+- Se document√≥ el **Modal de continuidad de conductor** en Pantallas (6.3.2.a): UI, botones, timeout de 2 min, manejo si ya hay conductor asignado y salto al selector de veh√≠culo si acepta sin veh√≠culo.
-+- Se a√±adi√≥ el **Modal de conflictos de horario** (6.3.3.a): tarjetas comparativas (actuales/fusi√≥n/nuevas), layout, badges, selecci√≥n √∫nica, confirmaci√≥n/cancelaci√≥n y avisos de conflicto.
-+- Se a√±adi√≥ el **Modal de eliminaci√≥n de horario** (6.3.1.a): UI con campo ‚ÄúELIMINAR‚Äù, advertencia de cancelaci√≥n de solicitudes, botones, y notificaciones tras confirmar.
-+- Se incorpor√≥ la **Pantalla/Modal de invitaci√≥n a grupo (receptor)** (7): detalle de invitaci√≥n, botones Aceptar/Rechazar, info de grupo, integraci√≥n con notificaciones y chat privado.
-+- Se especific√≥ el **Modal de cambio r√°pido de grupo** (5.1.a): acceso desde el nombre del grupo en AppBar, bottom sheet con buscador, lista de grupos con rol/badges y pr√≥xima salida, selecci√≥n mantiene la pesta√±a activa en el nuevo grupo.
-+- Se a√±adi√≥ el **Modal prioritario de activaci√≥n de ubicaci√≥n** (7.2): texto, acciones (activar ubicaci√≥n / cancelar conducci√≥n), comportamiento de alerta/badge y flujo de reasignaci√≥n al cancelar.
-+- Se a√±adi√≥ el **Modal de alertas de conductor (admin/creador ‚Üí conductor)** (7.3): invitaci√≥n/servicio, aceptaci√≥n/rechazo con motivo, vista de estado para admin (reasignar, mensaje, cancelar) y flujos de reenv√≠o/escalado.
-+- Se a√±adi√≥ la **Pantalla de solicitudes pendientes** (5.5.a): buscador, lista de solicitudes con contexto, acciones Aceptar/Rechazar con feedback, estado vac√≠o e integraci√≥n con gesti√≥n de grupo.
-+- Se a√±adi√≥ el **Modal de solicitud de membres√≠a** (4.1.3.a): bot√≥n Solicitar unirse, mensaje opcional, resumen del grupo, feedback y estado en Mis Solicitudes.
-+- Se cre√≥ la **Pantalla de historial de notas/aver√≠as** (10.2.a): lista cronol√≥gica con iconos ‚ÑπÔ∏è/‚ö†Ô∏è, autor/fechas, filtros, agregar/editar/eliminar propias notas, y diferenciaci√≥n visual entre aver√≠a y caracter√≠stica.
-+- Se a√±adi√≥ visibilidad de aver√≠as activas: badge ‚ö†Ô∏è en listado de veh√≠culos (10) y icono ‚ö†Ô∏è en encabezado de 10.2 que enlaza a 10.2.a filtrado por aver√≠as.
-+- Se detallaron **estados de error y vac√≠os** (sin conexi√≥n, sin grupos, sin lanzaderas, sin horarios hoy, conflicto de horarios con modal 6.3.3.a).
-+- Se defini√≥ el **Modal de guardar cambios** (6.3.3.b) para salidas sin guardar con opciones Descartar/Guardar/Cancelar.
-+- Se a√±adi√≥ patr√≥n base de empty states (icono, t√≠tulo, descripci√≥n, CTA) y los estados de ‚Äúsin notificaciones‚Äù y ‚Äúsin solicitudes‚Äù.
-+
-+### üß† Decisiones tomadas:
-+
-+- Mantener la visibilidad de conductor √∫nicamente en listados de horarios (5.3); no se replica en la pantalla de Chat (5.2) porque no aporta al flujo de chat.
-+- El creador de un veh√≠culo puede proponer ediciones aunque no tenga rol de conductor activo; los cambios requieren aprobaci√≥n de creador/admin si no tiene ese rol.
-+
-+### üéØ Pr√≥ximos pasos:
-+
-+- Continuar con el cierre de gu√≠as visuales b√°sicas para completar la Fase 0.
-+
-+---
-+
- # üßæ Notas generales
- 
- - Actualiza al final de cada sesi√≥n
diff --git a/docs/ROADMAP.md b/docs/ROADMAP.md
index 2ef931f..2d49201 100644
--- a/docs/ROADMAP.md
+++ b/docs/ROADMAP.md
@@ -2,11 +2,23 @@
 
 ## üìç Estado actual
 
-- √öltima actualizaci√≥n: 27/11/2025
-- Specs: secciones 6.x y modales 7.x cerradas; pendiente solo gu√≠a visual b√°sica
+- √öltima actualizaci√≥n: 28/11/2025
+- Specs cerradas incl. gu√≠as visuales b√°sicas (tipograf√≠a, paleta, layout por nivel, modales/chips); pendiente solo outline/kit de pantallas de referencia
 - Arquitectura decidida: Flutter + Riverpod + GoRouter + Firebase (Auth/Firestore/FCM), Storage para medios
 - Scope MVP recortado: sin backups Drive/iCloud, sin multimedia ni b√∫squeda en chat, sin automatismos avanzados de conductor (5/40 min) en primera iteraci√≥n
 
+### Principios de escalabilidad (guarda-ra√≠les)
+
+- Capas separadas (UI/estado/dominio/datos) con repositorios por dominio; nada de UI acoplada a Firestore directo.
+- Modelos versionados y esquemas flexibles en Firestore (`type/version`, subcolecciones claras por feature) para crecer sin migraciones masivas.
+- GoRouter con rutas nombradas y par√°metros; PageView/tab scopes por nivel ya definidos para insertar pantallas nuevas sin rehacer navegaci√≥n.
+- Riverpod por feature con providers scoped (auth, usuario, grupo, lanzadera, chat, notificaciones); sin singletons globales.
+- Reglas de negocio en servicios/use-cases (asignaci√≥n de conductor, validaci√≥n de horarios, rebooking) para extender a lista de espera, automatismos 5/40, etc.
+- Feature flags/config remota para activar post-MVP (backups, multimedia, tracking avanzado) sin ramas invasivas.
+- Componentes UI reutilizables (cards, chips, modales) alineados a la gu√≠a visual; evita remaquetar al a√±adir estados nuevos.
+- Contratos de eventos/notificaciones extensibles (campos `meta/extra`) y logs estructurados para depurar crecimiento.
+- √çndices pensados para filtros t√≠picos (grupo/lanzadera/fecha/estado) y cuotas de Firestore/FCM monitorizadas.
+
 ---
 
 ## üìÖ Fases
@@ -82,7 +94,7 @@
 - Documentar factores que afectan: cancelaciones (viajero/conductor), viajes completados, puntualidad, reportes
 - Especificar visibilidad: perfil p√∫blico (‚≠ê + desglose), perfil privado (estad√≠sticas completas), lista de solicitudes por salida (puntuaci√≥n r√°pida)
 
-**9. Otras Funcionalidades**
+**9. Otras Funcionalidades** ‚úÖ _Especificaci√≥n cerrada en `SPECS.md` (28/11/2025)_
 
 - **Conductor visible en listado**: Mostrar "Conductor: Nombre" o "Sin conductor" en √≠tems de 5.3
 - **Gesti√≥n de veh√≠culos**: enlace desde ajustes de grupo (5.5); visible para creador/admin, conductores asignados/solicitados y creadores de un veh√≠culo del grupo; permisos: creador/admin gestionan; conductores pueden elegir veh√≠culo y solicitar alta/edici√≥n (requiere aprobaci√≥n si no son creador/admin). Alerta T-30 sin veh√≠culo: push + banner con CTA a Pantalla 10, recordatorio a 5 min, escalado a creador/admin y chat, badge rojo hasta asignar. Bot√≥n ‚ÄúElegir como lanzadera‚Äù en 10.2 con selector de salida si hay varias y feedback con Snackbar.
@@ -93,8 +105,8 @@
 
 **10. Backlog Futuro**
 
-- OCR para horarios: agregar lanzadera desde imagen con sugerencia IA
-- Crear `CHANGELOG.md` en ra√≠z del proyecto con formato est√°ndar
+- OCR para horarios ‚Äî spike de viabilidad: definir input (foto impresa vs. captura), precisi√≥n m√≠nima y fallback manual.
+- Crear `CHANGELOG.md` ‚Äî tarea de release: activar cuando arranque Fase 5 (Polish & Deploy).
 
 #### üì¶ Entregables
 
@@ -172,6 +184,6 @@ Objetivo: robustez y UX.
 ## üéÆ Pr√≥ximos pasos inmediatos
 
 1. ‚úÖ Fase 0 a√±adida al roadmap con estimaci√≥n realista y tareas detalladas por prioridad
-2. Completar SPECS y gu√≠a visual b√°sica (Fase 0) y reflejar avances en `dev_log.md`
+2. ‚úÖ Completar SPECS y gu√≠a visual b√°sica (Fase 0) y reflejar avances en `dev_log.md`
 3. Abrir issues por fase (F0/F1/F2‚Ä¶) en GitHub Projects con criterios de aceptaci√≥n
-4. Tras cerrar Fase 0, arrancar Fase 1: bootstrap Flutter + Firebase + GoRouter/Riverpod y login por tel√©fono
+4. Tras cerrar Fase 0 (pendiente outline/kit de pantallas), arrancar Fase 1: bootstrap Flutter + Firebase + GoRouter/Riverpod y login por tel√©fono
diff --git a/docs/dev_log.md b/docs/dev_log.md
index 7cc736d..0bb4211 100644
--- a/docs/dev_log.md
+++ b/docs/dev_log.md
@@ -174,7 +174,7 @@ Fase activa: **0 ‚Äî punto 9: Gu√≠as visuales b√°sicas en progreso (tipograf√≠a
 ### üß† Decisiones tomadas:
 
 - Mantener commits separados por bloque visual: tipograf√≠a, paleta, layouts/patrones.
-- Rama sugerida para el punto 9: `feature/f0-visual-guides` con commits tem√°ticos.
+- Rama para el punto 9: `feature/f0-visual-guides` con commits tem√°ticos.
 
 ### üéØ Pr√≥ximos pasos:
 
